package com.emailservice.api;

import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import io.swagger.annotations.ApiResponse;
import io.swagger.annotations.ApiResponses;

import java.util.logging.Logger;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RestController;

import com.emailservice.config.ApplicationConfigurationLoader;
import com.emailservice.service.EmailProcessor;

@RestController
@RequestMapping("/EMAIL-SERVICE/V1.0")
// Swagger Specific Annotations
@Api(value = "EMAIL SERVICE", description = "EMAIL SERVICE")
public class EmailServiceAPI {
	
	private static final Logger logger = Logger.getLogger(EmailServiceAPI.class.getName());

	@Autowired
	ApplicationConfigurationLoader CONFIG;
	
	@Autowired
	EmailProcessor emailProcessor;
	

	/**
	 * @param _request
	 * @return
	 */
	@ApiOperation(value = "SEND EMAIL WITH MESSAGE")
	// Swagger Specific Annotation
	@ApiResponses(value = {
			@ApiResponse(code = 200, message = "SUCCESSFUL OPERATION"),
			@ApiResponse(code = 401, message = "UNAUTHORIZED TO VIEW RESOURCE"),
			@ApiResponse(code = 403, message = "ACCESS FORBIDDEN"),
			@ApiResponse(code = 404, message = "RESOURCE NOT FOUND") })
	@RequestMapping(value = "/EMAIL/SEND", method = RequestMethod.GET, produces = { "application/json" })
	public void sendEmail() {
		emailProcessor.processEmail();
	}



}
